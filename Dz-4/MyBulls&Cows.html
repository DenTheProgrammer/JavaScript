<meta charset="utf-8">
<script>
    function generateNumber() {
        var figures = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"];
        var generatedNumber = [];
        var randomedIndex;


        for (var i = 0; i < digits; i++) {
            if (i == 0) {
                randomedIndex = Math.floor(Math.random() * (figures.length - 1) + 1); //первая цифра не 0
            } else {
                randomedIndex = Math.floor(Math.random() * (figures.length)); //остальные любые
            }

            generatedNumber.push(figures[randomedIndex]);
            figures.splice(randomedIndex, 1); //убираем существующие уже цифры
        }
        return generatedNumber;
    }






    function guess(guessedNumber, gameNumber) {
        bulls = 0;
        cows = 0;
        for (var i = 0; i < gameNumber.length; i++) { //подсчет быков
            if (gameNumber[i] == guessedNumber[i]) {
                bulls++;
            }
        }

        for (var i = 0; i < gameNumber.length; i++) {
            if (guessedNumber.indexOf(gameNumber[i]) != -1) {
                cows++;
            }
        }
    }


    ////////////////////////Game////////////////

    var digits = 4;
    var guessedNumber;
    var gameNumber = generateNumber();
    var bulls,
        cows,
        attemps = 0;
    console.log(gameNumber);
    do {
        guessedNumber = prompt("Введите предполагаемое число:").split("");
        guess(guessedNumber, gameNumber);
        alert("Быков: " + bulls + ", Коров: " + cows);
        attemps++;
    }
    while (bulls != digits);
    alert("Победа! Вы отгадали число за " + attemps + " попыток.");

</script>
